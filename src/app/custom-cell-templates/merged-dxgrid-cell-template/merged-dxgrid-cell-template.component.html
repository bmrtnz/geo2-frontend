<!-- "merge" cell template -->
<ng-container *dxTemplate="let cell of 'mergeCellsTemplate'">
  <div
    *ngIf="cell?.cellElement"
    class="merged"
    [innerHTML]="cell | mergeSiblingColumns"
  ></div>
</ng-container>

<!-- "merge" edit cell template -->
<ng-container *dxTemplate="let cell of 'mergeEditCellsTemplate'">
  <div
    *ngIf="cell?.cellElement"
    class="merged"
  >
    <dx-text-box
      [class]="'prev-cell merged-cell'"
      [value]="cell | mergeEditSiblingColumns : 'previous'"
      (onKeyDown)="onKeyDownFromFirst($event, inputNext)"
      (onValueChanged)="onValueChanged($event, cell, 'previous')"
    ></dx-text-box>
    <dx-text-box
      #inputNext
      [class]="'next-cell merged-cell'"
      [value]="cell | mergeEditSiblingColumns : 'next'"
      (onKeyDown)="onKeyDownFromLast($event)"
      (onValueChanged)="onValueChanged($event, cell, 'next')"
    ></dx-text-box>
  </div>
</ng-container>
