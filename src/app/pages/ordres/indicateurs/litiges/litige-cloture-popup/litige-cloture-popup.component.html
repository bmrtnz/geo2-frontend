<dx-popup
  [showTitle]="true"
  [dragEnabled]="true"
  width="400"
  height="auto"
  [hideOnOutsideClick]="false"
  [(visible)]="visible"
  (onShowing)="onShowing($event)"
>
  <div *dxTemplate="let data of 'title'">
    <div class="title-start">{{ titleStart }}&nbsp;</div>
    <div class="title-end">{{ titleEnd }}</div>
    <app-top-right-popup-buttons
      [disabledButtons]="['resize']"
      [popup]="this"
      (closePopup)="hidePopup()"
    ></app-top-right-popup-buttons>
  </div>

  <div
    class="dx-field segment-box"
    [ngClass]="{ 'inactive-item': oneIsCloture }"
  >
    <div class="dx-field-value">
      <dx-list
        [items]="tiersList"
        selectionMode="multiple"
        selectAllMode="false"
        [showSelectionControls]="true"
        [selectedItemKeys]="[]"
        (onSelectionChanged)="changeTiers($event)"
      >
      </dx-list>
    </div>
  </div>

  <div class="popup-buttons-container">
    <dx-button
      type="default"
      text="{{ 'btn-close' | localize }}"
      [disabled]="!enableCloture || running"
      (onClick)="doCloture()"
    ></dx-button>
    <dx-button
      type="default"
      text="Annuler"
      (onClick)="hidePopup()"
    ></dx-button>
  </div>
</dx-popup>
<app-confirmation-result-popup #clotureWarning></app-confirmation-result-popup>
