<dx-data-grid
  [remoteOperations]="{
    filtering: true,
    sorting: true
  }"
  [repaintChangesOnly]="true"
  [highlightChanges]="true"
  (onToolbarPreparing)="gridConfigHandler($event)"
  (onSaving)="onSaving($event)"
  (focusedColumnIndexChange)="focusedColumnIndexChange()"
>
  <dxo-editing
    [selectTextOnEditStart]="true"
    [mode]="'batch'"
    [allowUpdating]="allowMutations"
    [allowDeleting]="allowMutations"
    [(changes)]="changes"
    [refreshMode]="'reshape'"
  ></dxo-editing>
  <dxo-keyboard-navigation
    [enterKeyAction]="'moveFocus'"
    [enterKeyDirection]="'column'"
    [editOnKeyPress]="true"
  ></dxo-keyboard-navigation>
  <dxo-summary>
    <dxi-total-item
      column="nombrePalettesCommandees"
      summaryType="sum"
    ></dxi-total-item>
    <dxi-total-item
      column="nombreColisCommandes"
      summaryType="sum"
    ></dxi-total-item>
  </dxo-summary>
  <dxi-column
    *ngFor="let column of this.columns | async"
    [dataField]="column.dataField"
    [allowEditing]="column.allowEditing || true"
    [allowSorting]="column.allowSorting || true"
    [cellTemplate]="column.cellTemplate"
    [editCellTemplate]="column.editCellTemplate"
  ></dxi-column>
  <app-entity-cell-template
    [columnsSettings]="columnsSettings"
  ></app-entity-cell-template>
</dx-data-grid>
